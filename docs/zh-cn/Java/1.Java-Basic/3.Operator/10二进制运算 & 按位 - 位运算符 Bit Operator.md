# 二进制运算 & 按位 - 位运算符 Bit Operator

# 二进制运算规则 - 原码，反码，补码

原码（True form），反码（One’s Complement），补码（Two's complement - 统一了正数和负数）

![Untitled](%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%BF%90%E7%AE%97%20&%20%E6%8C%89%E4%BD%8D%20-%20%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6%20Bit%20Operator%207f824534a7b84d5eaa7064ae3f5db36c/Untitled.png)

- 二进制的最高位（最左边）是符号位：0表示正数，1表示负数（口诀：0->0；1->-）
- 正数的原码，反码，补码都一样（三码合一）
- 0的反码，补码都是0
- 负数的**反码** = 它的原码符号位不变，其它位取反（0->1,1->0）
- 负数的**补码** = 它的反码 +1。
- 负数的**反码** = 它的补码 - 1。
- java没有无符号数，换言之，java中的数都是有符号的
- **在计算机运算的时候，都是以补码的方式来运算的。**
- **当我们看运算结果的时候，要看他的原码。**

# 位运算符规则

<aside>
🔥 数 —> 原 —> 反 —> 补（运算）—> 反 —> 原 —> 数

</aside>

1. 获得`a`的原码
2. （如数字为负数）根据原码，获得`a`的反码
3. 根据原码/反码，获得`a`的补码
4. 重复1~3，算出算式中所有数的补码。
5. 根据补码，进行运算，获得运算后的补码
6. 根据运算后的补码，结果是其对应的原码

## 按位

### **按位与`&`：**两位全为1，结果为1，否则为0。

```java
1101 1100
1000 0110
1000 0100
```

- `2 & 3 = ?` “2 按位与 3”
    
    ```java
    System.out.println(2 & 3);
    // 2 的原码       00000000 00000000 00000000 00000010
    // 3 的原码       00000000 00000000 00000000 00000011
    
    // 2 的补码       00000000 00000000 00000000 00000010 (正数三码合一)
    // 3 的补码       00000000 00000000 00000000 00000011 (正数三码合一)
    // 2&3 运算的补码 00000000 00000000 00000000 00000010 
    // 2&3 运算的原码 00000000 00000000 00000000 00000010 (正数三码合一)
    // 结果 = 2
    ```
    

### **按位或`|`：**两位只要有一个为1，结果为1，否则为0。

```java
1101 1100
1000 0110
1101 1110
```

- `2 | 3 = ?`

### 按位异或`^`：两位一个为0同时一个为1，结果为1，否则为0。

```java
1101 1100
1000 0110
0101 1010
```

- `2 ^ 3 = ?`

### 按位取反`~`：0->1，1->0

```java
1101 1100
0010 0011
```

- `~-2 = ?`
    
    ```java
    System.out.println(~-2);
    // -2 的原码      10000000 00000000 00000000 00000010
    // -2 的反码      11111111 11111111 11111111 11111101 （负数）
    // -2 的补码      11111111 11111111 11111111 11111110 （负数的补码 = 反码+1）
    // ~-2 运算的补码 00000000 00000000 00000000 00000001
    // ~-2 运算的原码 00000000 00000000 00000000 00000001  (正数三码合一)
    // 结果 = 1
    ```
    
- `~2 = ？`
    
    ```java
    System.out.println(~2);
    // 2  的原码     00000000 00000000 00000000 00000010
    // 2  的补码     00000000 00000000 00000000 00000010 (正数三码合一)
    // ~2 运算的补码 11111111 11111111 11111111 11111101（负数）
    // ~2 运算的反码 11111111 11111111 11111111 11111100（负数的反码 = 补码+1）
    // ~2 运算的原码 10000000 00000000 00000000 00000011 
    // 结果 = -3
    ```